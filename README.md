# ğŸ’»Java Socket HTTP å®¢æˆ·ç«¯ / æœåŠ¡å™¨é¡¹ç›®

åŸºäº Java åŸç”Ÿ Socket API å¼€å‘çš„è½»é‡çº§ HTTP å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ï¼Œå®Œå…¨ä¸ä¾èµ–ä»»ä½•ç¬¬ä¸‰æ–¹æ¡†æ¶ï¼Œçº¯åŸç”Ÿå®ç° HTTP åè®®åŸºç¡€åŠŸèƒ½åŠç”¨æˆ·è®¤è¯åœºæ™¯ã€‚

## é¡¹ç›®ä»‹ç»
æœ¬é¡¹ç›®æ—¨åœ¨é€šè¿‡ Java åŸç”Ÿ Socket API æ„å»ºå®Œæ•´çš„ HTTP é€šä¿¡ä½“ç³»ï¼ŒåŒ…å«å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ç«¯å®ç°ã€‚é¡¹ç›®éµå¾ª HTTP/1.1 åè®®è§„èŒƒï¼Œæ”¯æŒåŸºç¡€è¯·æ±‚å“åº”å¤„ç†ã€é•¿è¿æ¥æœºåˆ¶åŠç”¨æˆ·æ³¨å†Œç™»å½•åŠŸèƒ½ï¼Œé€‚åˆç”¨äºå­¦ä¹  HTTP åè®®åŸç†åŠ Socket ç½‘ç»œç¼–ç¨‹å®è·µã€‚


## æŠ€æœ¯æ ˆ

- ç¼–ç¨‹è¯­è¨€ï¼šJava 8+
- æ ¸å¿ƒæŠ€æœ¯ï¼šJava Socket APIï¼ˆBIO æ¨¡å‹ï¼‰ã€HTTP/1.1 åè®®
- å¼€å‘å·¥å…·ï¼šIntelliJ IDEAã€Gitã€Postmanï¼ˆæ¥å£æµ‹è¯•ï¼‰
- ä»£ç æ‰˜ç®¡ï¼šGitHub

## åŠŸèƒ½æ¸…å•

### 1. æœåŠ¡å™¨ç«¯åŠŸèƒ½

1. æ”¯æŒ HTTP æ–¹æ³•ï¼šGETã€POST
2. çŠ¶æ€ç æ”¯æŒï¼š200ï¼ˆæˆåŠŸï¼‰ã€301ï¼ˆæ°¸ä¹…é‡å®šå‘ï¼‰ã€302ï¼ˆä¸´æ—¶é‡å®šå‘ï¼‰ã€304ï¼ˆæœªä¿®æ”¹ï¼‰ã€404ï¼ˆèµ„æºä¸å­˜åœ¨ï¼‰ã€405ï¼ˆæ–¹æ³•ä¸å…è®¸ï¼‰ã€500ï¼ˆæœåŠ¡å™¨å†…éƒ¨é”™è¯¯ï¼‰
3. å®ç° HTTP é•¿è¿æ¥ï¼ˆKeep-Aliveï¼‰æœºåˆ¶
4. MIME ç±»å‹æ”¯æŒï¼š
   - æ–‡æœ¬ç±»å‹ï¼štext/htmlã€text/plain
   - éæ–‡æœ¬ç±»å‹ï¼šimage/png
5. ä¸šåŠ¡åŠŸèƒ½ï¼š
   - ç”¨æˆ·æ³¨å†Œæ¥å£ï¼ˆPOST /user/registerï¼‰
   - ç”¨æˆ·ç™»å½•æ¥å£ï¼ˆPOST /user/loginï¼‰
   - å†…å­˜çº§æ•°æ®å­˜å‚¨ï¼ˆæ— éœ€æŒä¹…åŒ–ï¼‰
6. é™æ€èµ„æºæœåŠ¡ï¼šæ”¯æŒè®¿é—® static ç›®å½•ä¸‹çš„ HTMLã€æ–‡æœ¬ã€å›¾ç‰‡ç­‰èµ„æº

### 2. å®¢æˆ·ç«¯åŠŸèƒ½

1. æ”¯æŒå‘é€ GET å’Œ POST è¯·æ±‚
2. å®Œæ•´è§£æå¹¶å‘ˆç°æœåŠ¡å™¨å“åº”ï¼ˆå“åº”å¤´ + å“åº”ä½“ï¼‰
3. çŠ¶æ€ç å¤„ç†ï¼šè‡ªåŠ¨å¤„ç† 301ã€302 é‡å®šå‘ï¼Œæ”¯æŒ 304 ç¼“å­˜åˆ¤æ–­
4. é•¿è¿æ¥æ”¯æŒï¼šå¤ç”¨ TCP è¿æ¥å‡å°‘æ¡æ‰‹å¼€é”€
5. è¿æ¥æ± ç®¡ç†ï¼šç»´æŠ¤å¤šä¸ªä¸»æœºçš„è¿æ¥æ± ï¼Œæå‡è¯·æ±‚æ•ˆç‡



## å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

- JDK 8 åŠä»¥ä¸Š
- Gitï¼ˆä»£ç æ‹‰å–ï¼‰
- ä»»æ„ Java å¼€å‘å·¥å…·ï¼ˆæ¨è IntelliJ IDEAï¼‰

### 2. ä»£ç æ‹‰å–

```bash
git clone https://github.com/594mzy/HttpProject.git
cd HttpProject
```

### 3. é¡¹ç›®ç»“æ„

plaintext

```plaintext
HttpProject
â”œâ”€ src
â”‚  â”œâ”€ com.http.common
â”‚  â”‚  â”œâ”€ Request.java
â”‚  â”‚  â”œâ”€ Response.java
â”‚  â”‚  â”œâ”€ ParamParser.java
â”‚  â”‚  â”œâ”€ UrlParser.java
â”‚  â”‚  â”œâ”€ BIOTransport.java
â”‚  â”‚  â”œâ”€ SocketPool.java
â”‚  â”‚  â””â”€ MimeUtil.java
â”‚  â”œâ”€ com.http.server
â”‚  â”‚  â”œâ”€ HttpServer.java
â”‚  â”‚  â”œâ”€ ClientHandler.java
â”‚  â”‚  â”œâ”€ RequestParser.java
â”‚  â”‚  â”œâ”€ Router.java
â”‚  â”‚  â”œâ”€ ResourceHandler.java
â”‚  â”‚  â”œâ”€ ResponseWriter.java
â”‚  â”‚  â””â”€ UserHandler.java
â”‚  â”œâ”€ com.http.client
â”‚  â”‚  â”œâ”€ HttpClient.java
â”‚  â”‚  â”œâ”€ ResponseParser.java
â”‚  â”‚  â””â”€ RedirectHandler.java
â”‚  â”œâ”€ com.http.test
â”‚  â””â”€ static
â”‚     â”œâ”€ index.html
â”‚     â”œâ”€ test.txt
â”‚     â””â”€ test.png
â””â”€ README.md
```

### 4. è¿è¡Œè¯´æ˜

1. å¯åŠ¨æœåŠ¡å™¨ï¼šè¿è¡Œ `com.http.server.HttpServer` ç±»çš„ main æ–¹æ³•ï¼ˆé»˜è®¤ç«¯å£ 8080ï¼‰
2. å®¢æˆ·ç«¯æµ‹è¯•ï¼š
   - è¿è¡Œ `com.http.client.HttpClient` ç±»çš„ main æ–¹æ³•è¿›è¡Œç¤ºä¾‹è¯·æ±‚
   - æˆ–ä½¿ç”¨ Postman æµ‹è¯•æ¥å£ï¼š
     - æ³¨å†Œï¼šPOST http://localhost:8080/user/registerï¼Œå‚æ•° `username=xxx&password=xxx`
     - ç™»å½•ï¼šPOST http://localhost:8080/user/loginï¼Œå‚æ•° `username=xxx&password=xxx`
     - è®¿é—®é™æ€èµ„æºï¼šGET http://localhost:8080/static/index.html



## å¼€å‘å›¢é˜Ÿ

- é¡¹ç›®åˆ›å»ºè€…ï¼š[594mzy](https://github.com/594mzy)ï¼ˆç¼ªå‘¨æ´‹ï¼‰
- åä½œå¼€å‘è€…ï¼šmyx,zyl,shyï¼ˆç¼ªå®‡è½©ï¼Œæœ±é›¨ä¹ï¼Œç››æµ©å®‡ï¼‰
